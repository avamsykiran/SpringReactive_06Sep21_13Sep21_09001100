package com.cts.rjd.service;

import io.reactivex.Observable;
import io.reactivex.ObservableEmitter;
import io.reactivex.ObservableOnSubscribe;

public class NumberSeriesGeneratorReactiveService2 {

	public Observable<Integer> generateSeries(int lowerBound,int upperBound){
		return Observable.create(emitter -> {
			new Thread(() -> {

				if(lowerBound>upperBound) {
					emitter.onError(new Exception("lowerBoudn found greater than the upperBound"));
					return;
				}
				
				for(int n=lowerBound;n<=upperBound;n++) {
					try {
						Thread.sleep(500);
					} catch (InterruptedException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
					//System.out.println(n);
					emitter.onNext(n);
				}
				
				emitter.onComplete();		
			}).start();
		});
	}
	
}
